<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test FrontendRAFT v0.1.0</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .status {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .loading {
            background: #fff3cd;
            border: 2px solid #ffc107;
        }
        .success {
            background: #d4edda;
            border: 2px solid #28a745;
        }
        .error {
            background: #f8d7da;
            border: 2px solid #dc3545;
        }
        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>üöÄ FrontendRAFT v0.1.0 Test</h1>
    
    <div id="status" class="status loading">
        ‚è≥ Chargement de FrontendRAFT...
    </div>

    <div id="info"></div>

    <script type="module">
        const statusDiv = document.getElementById('status');
        const infoDiv = document.getElementById('info');

        try {
            // Import FrontendRAFT
            const { FrontendRAFT, VERSION, CSOP_VERSION } = await import(
                'https://cdn.jsdelivr.net/gh/Nexus-Studio-CEO/FrontendRAFT@v0.1.0/src/index.js'
            );

            // Cr√©er instance
            const raft = new FrontendRAFT({
                name: 'Test API',
                version: '1.0.0'
            });

            // Initialiser
            await raft.init();

            // Afficher succ√®s
            statusDiv.className = 'status success';
            statusDiv.innerHTML = '‚úÖ FrontendRAFT charg√© et initialis√© avec succ√®s !';

            // Afficher infos
            infoDiv.innerHTML = `
                <h2>üì¶ Informations du Package</h2>
                <pre>${JSON.stringify({
                    'FrontendRAFT Version': VERSION,
                    'CSOP Version': CSOP_VERSION,
                    'API ID': raft.apiId,
                    'API Name': raft.config.name,
                    'Initialized': raft.initialized,
                    'Capabilities': {
                        'Storage': !!raft.storage,
                        'Compute': !!raft.compute,
                        'P2P': !!raft.p2p,
                        'Auth': !!raft.auth,
                        'Router': !!raft.router,
                        'Cache': !!raft.cache,
                        'Stream': !!raft.stream,
                        'Batch': !!raft.batch,
                        'Optimistic': !!raft.optimistic,
                        'Query': !!raft.query
                    }
                }, null, 2)}</pre>

                <h2>üß™ Test Simple</h2>
                <p>D√©finissons une route et testons-la :</p>
                <pre id="testResult">Ex√©cution du test...</pre>
            `;

            // Test simple
            raft.routes({
                'GET /hello': async () => ({ 
                    message: 'Hello from FrontendRAFT!',
                    timestamp: Date.now()
                })
            });

            const result = await raft.get('/hello');
            
            document.getElementById('testResult').textContent = 
                'Test r√©ussi !\n\n' + JSON.stringify(result, null, 2);

        } catch (error) {
            statusDiv.className = 'status error';
            statusDiv.innerHTML = `‚ùå Erreur: ${error.message}`;
            
            infoDiv.innerHTML = `
                <h2>üêõ D√©tails de l'Erreur</h2>
                <pre>${error.stack}</pre>
            `;
        }
    </script>
</body>
</html>